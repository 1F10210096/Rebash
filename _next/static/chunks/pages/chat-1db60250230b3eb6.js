(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{1679:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return o(9443)}])},9443:function(e,t,o){"use strict";o.r(t);var s=o(5893),n=o(4969),a=o(7547),l=o(7680),i=o(8484),r=o(1086),c=o(125),d=o(1156),u=o(5355),h=o(7235),m=o(8641),g=o(2952),x=o(3606),p=o(7496),y=o(8795),_=o(7183),b=o(9361),j=o(7917),f=o(8180),S=o(388),v=o(5353),Z=o(1577),w=o(1973),k=o(6074),C=o(6211),N=o(628),O=o(4993),E=o(7484),I=o.n(E),B=o(285),M=o.n(B),P=o(24),A=o(1163),T=o(7294),$=o(5371),U=o(1290),Y=o(1634),D=o.n(Y);I().extend(M());let L=()=>{let[e]=(0,P.KO)($.L),[t,o]=(0,T.useState)(""),[E,B]=(0,T.useState)(""),[M,Y]=(0,T.useState)([]),[L,R]=(0,T.useState)(""),[F,K]=(0,T.useState)(""),[V,X]=(0,T.useState)([]),[G,q]=(0,T.useState)([]),[H,J]=(0,T.useState)([]),[z,Q]=(0,T.useState)([]);(0,A.useRouter)();let[W,ee]=(0,T.useState)(""),et=(0,T.useRef)(null),eo=(0,T.useRef)(),[es,en]=(0,T.useState)(!1),[ea,el]=(0,T.useState)(""),[ei,er]=(0,T.useState)(""),[ec,ed]=(0,T.useState)(""),[eu,eh]=(0,T.useState)(null),[em,eg]=(0,T.useState)(""),[ex,ep]=(0,T.useState)(!1),[ey,e_]=(0,T.useState)(!1),[eb,ej]=(0,T.useState)(null),[ef,eS]=(0,T.useState)({x:0,y:0}),[ev,eZ]=(0,T.useState)(""),[ew,ek]=(0,T.useState)(""),[eC,eN]=(0,T.useState)("2015/01/05"),[eO,eE]=(0,T.useState)([]),[eI,eB]=(0,T.useState)(""),[eM,eP]=(0,T.useState)(!1),[eA,eT]=(0,T.useState)(!1),[e$,eU]=(0,T.useState)(!1),{Header:eY,Content:eD,Footer:eL,Sider:eR}=_.Z,eF="YYYY/MM/DD",[eK,eV]=(0,T.useState)(!1),[eX,eG]=(0,T.useState)(""),[eq,eH]=(0,T.useState)(""),[eJ,ez]=(0,T.useState)([]),[eQ,eW]=(0,T.useState)([]),[e0,e1]=(0,T.useState)(""),[e2,e3]=(0,T.useState)(""),[e8,e7]=(0,T.useState)(""),[e4,e5]=(0,T.useState)(""),e6=(e,t)=>{eN(t),console.log(t)};function e9(e,t,o,s,n){return{key:t,icon:o,children:s,label:e,type:n}}n.Z,[a.Z,l.Z,i.Z,r.Z,c.Z,d.Z,u.Z,h.Z].map((e,t)=>({key:String(t+1),icon:T.createElement(e),label:"nav ".concat(t+1)}));let te=[e9("Navigation One","sub1",(0,s.jsx)(m.Z,{}),[e9("Item 1","g1",null,[e9("Option 1","1"),e9("Option 2","2")],"group"),e9("Item 2","g2",null,[e9("Option 3","3"),e9("Option 4","4")],"group")]),e9("Navigation Two","sub2",(0,s.jsx)(d.Z,{}),[e9("Option 5","5"),e9("Option 6","6"),e9("Submenu","sub3",null,[e9("Option 7","7"),e9("Option 8","8")])]),{type:"divider"},e9("Navigation Three","sub4",(0,s.jsx)(g.Z,{}),[e9("Option 9","9"),e9("Option 10","10"),e9("Option 11","11"),e9("Option 12","12")]),e9("Group","grp",null,M.map(e=>e9(e,e)),"group")],tt=e=>{console.log("onSelect",e)},to=e=>{eZ(e)},{token:{colorBgContainer:ts}}=b.Z.useToken(),tn=()=>{eU(!0),tu()},ta=()=>{eU(!1)};(0,T.useEffect)(()=>{let e=async()=>{eo.current=await navigator.mediaDevices.getUserMedia({video:!0}),et.current&&(et.current.srcObject=eo.current)},t=()=>{eo.current&&eo.current.getTracks()[0].stop()};return e(),()=>{t()}},[]);let tl=(0,T.useCallback)(async()=>{let e=await U.x.roomlist.$post();console.log(e),Y(e.roomId)},[]),ti=(0,T.useCallback)(async()=>{let t=await U.x.roomlist.$post();if(console.log(t),null===t)console.log("a"),await U.x.create.$post();else if(null===e)console.log(e);else{let t=e.id,o=await U.x.usercheck.$post({body:{userId:t}});console.log(o)}},[e]),tr=async()=>{if(o(eI),console.log("User input:",eI),!e)return;let s=e.id,n=await U.x.user.post({body:{roomId:t,userId:s}});await U.x.roomcreate.post({body:{roomId:t,userId:s}}),console.log(t),Y(n.body.roomId)},tc=async()=>{if(!e)return;let o=e.id;console.log(ea);let s=await U.x.serchroom.post({body:{searchRoomId:ea,userId:o}});await U.x.userroomcreate.post({body:{searchRoomId:ea,userId:o}}),console.log(s.body.user),console.log(t),B(s.body.roomid),X(s.body.user),await tl()},td=async()=>{if(!e)return;let t=e.id;console.log(L);let o=await U.x.createcomment.$post({body:{userId:t,comment:L}});R(o.comment)},tu=async()=>{if(!e)return;console.log("234");let t=e.id,o=await U.x.usercheck.$post({body:{userId:t}});void 0===o?console.log("usernasi"):(console.log(o.comment),R(o.comment),console.log(o.birth),console.log("asdaw"),eN(o.birth),console.log(eC))},th=async()=>{if(!e)return;let t=e.id,o=await U.x.birth.$post({body:{userId:t,birthday:eC}});eN(o.birth)},tm=async()=>{if(!e)return;console.log(e.photoURL),console.log(ev);let o=e.id,s=e.displayName;void 0===s?console.log("usernameなし"):await U.x.message.post({body:{roomId:t,sender_id:o,content:ev,name:s}}),await tx()},tg=async t=>{if(console.log("a"),console.log(t),o(t),await U.x.room.post({body:{roomId3:t}}),null===e)console.log("error");else{let o=e.id;console.log(o);let s=await U.x.roomuser.post({body:{roomId3:t}});console.log(s.body.user),X(s.body.user)}let s=await U.x.message_get2.$post({body:{roomId3:t}});console.log(s),void 0===s?console.log("messagesがありません"):(q(s),K((null==e?void 0:e.id)||""))},tx=async()=>{let o=await U.x.message_get.$post({body:{roomId:t}});void 0===o?console.log("messagesがありません"):(q(o),K((null==e?void 0:e.id)||""))},tp=e=>{console.log("Change:",e.target.value),R(e.target.value)},{TextArea:ty}=j.Z,t_=async()=>{if(!e)return;let t=e.id;await U.x.friend.$post({body:{searchfriend:e4,userId:t}})};return(0,T.useEffect)(()=>{ti(),tl()},[tl,ti]),(0,s.jsxs)(_.Z,{hasSider:!0,children:[(0,s.jsxs)(eR,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0},children:[(0,s.jsx)("div",{className:"demo-logo-vertical"}),(0,s.jsx)(f.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"],items:te})]}),(0,s.jsxs)(_.Z,{className:"site-layout",style:{marginLeft:200},children:[(0,s.jsx)(eY,{style:{padding:0,background:ts}}),(0,s.jsx)(eD,{style:{margin:"24px 16px 0",overflow:"initial"},children:(0,s.jsxs)("div",{style:{padding:24,textAlign:"center",background:ts},children:[(0,s.jsx)("p",{children:"long content"}),Array.from({length:100},(e,t)=>(0,s.jsxs)(T.Fragment,{children:[t%20==0&&t?"more":"...",(0,s.jsx)("br",{})]},t))]})}),(0,s.jsx)(eL,{style:{textAlign:"center"},children:"Ant Design \xa92023 Created by Ant UED"})]}),(0,s.jsx)("div",{style:{width:300,height:120,background:"#02021e"}}),(0,s.jsx)("div",{className:D().box1,onClick:tn}),(0,s.jsx)(S.C,{style:{backgroundColor:"#87d068",right:230,top:40},icon:(0,s.jsx)(a.Z,{})}),(0,s.jsx)("div",{style:{top:800},className:"fuchidori",children:null==e?void 0:e.displayName}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(v.Z,{title:"your profile",placement:"right",onClose:ta,open:e$,width:800,children:[(0,s.jsx)("p",{children:null==e?void 0:e.displayName}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"message"}),(0,s.jsx)(ty,{showCount:!0,maxLength:100,onChange:tp,value:L}),(0,s.jsx)(Z.ZP,{type:"primary",icon:(0,s.jsx)(x.Z,{}),onClick:td,children:"ok"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"birthday"}),(0,s.jsx)(w.Z,{onChange:e6,defaultValue:I()(eC,eF),format:eF,children:"birthday"}),(0,s.jsx)(Z.ZP,{type:"primary",icon:(0,s.jsx)(x.Z,{}),onClick:th,children:"ok"}),(0,s.jsx)("p",{children:"Some contents..."})]})}),(0,s.jsx)(eR,{style:{height:"100vh",position:"fixed",top:120,bottom:0},width:300,children:(0,s.jsx)(f.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"],items:te,onSelect:e=>{let{key:t}=e;return tg(t)},style:{width:300}})}),(0,s.jsxs)(_.Z,{className:"site-layout",style:{marginLeft:100},children:[(0,s.jsx)(eY,{style:{padding:0,background:ts}}),(0,s.jsx)(eD,{style:{margin:"24px 16px 0",overflow:"initial"},children:(0,s.jsxs)("div",{style:{padding:24,textAlign:"center",background:ts},children:[(0,s.jsx)("p",{children:"long content"}),G.sort((e,t)=>e.sent_at-t.sent_at).map((e,t)=>(0,s.jsxs)(T.Fragment,{children:[0!==t&&(0,s.jsx)(k.Z,{orientation:"left",plain:!0}),(0,s.jsxs)("div",{className:"".concat(D().commentBubble," ").concat(e.sender_Id===F?D().myMessage:D().otherMessage),children:[(0,s.jsx)("div",{className:D().username,children:e.username}),(0,s.jsx)("div",{className:D().content,children:e.contentmess})]})]},e.id2))]})}),(0,s.jsx)(eL,{style:{textAlign:"center"},children:"Ant Design \xa92023 Created by Ant UED"})]}),(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(C.Z,{style:{position:"fixed",width:800,height:600,top:750,right:330},onSelect:tt,onSearch:to,placeholder:"input here"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsx)(Z.ZP,{icon:(0,s.jsx)(p.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>tm()}),(0,s.jsx)(N.Z,{icon:(0,s.jsx)(y.Z,{}),type:"primary",style:{top:800,left:75}}),(0,s.jsx)(O.Z,{title:(0,s.jsx)(j.Z,{value:t,onChange:e=>o(e.target.value),onPressEnter:tr,placeholder:"RoomIdを入力してください"}),visible:eM,onVisibleChange:e=>eP(e),onConfirm:tr,onCancel:()=>eP(!1),okText:"Add",cancelText:"Cancel",placement:"left",children:(0,s.jsx)(N.Z,{icon:(0,s.jsx)(n.Z,{}),type:"primary",style:{top:730,left:75}})}),(0,s.jsxs)(O.Z,{title:(0,s.jsx)(j.Z,{value:ea,onChange:e=>el(e.target.value),onPressEnter:tc,placeholder:"RoomIdを入力してください"}),visible:eM,onVisibleChange:e=>eT(e),onConfirm:tc,onCancel:()=>eT(!1),okText:"Search",cancelText:"Cancel",placement:"left",children:[(0,s.jsx)(Z.ZP,{icon:(0,s.jsx)(p.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>tm()}),(0,s.jsx)(N.Z,{icon:(0,s.jsx)(y.Z,{}),type:"primary",style:{position:"fixed",top:800,left:75}}),(0,s.jsx)(j.Z,{value:e4,onChange:e=>e5(e.target.value),onPressEnter:t_,placeholder:"userIdを入力してください"})]})]})};t.default=L},1634:function(e){e.exports={title:"chat_title__Snu28",tasks:"chat_tasks__0B7ZY",deleteBtn:"chat_deleteBtn__3eXIO",roomIds:"chat_roomIds____AqH",comment:"chat_comment__F8UVK",form:"chat_form__tjMP8",myMessage:"chat_myMessage__hdJnJ",otherMessage:"chat_otherMessage__yyNOl",commentBubble:"chat_commentBubble__X6BbX",currentroomId:"chat_currentroomId__xyHNh",roomContainer:"chat_roomContainer__5bt_8",commentContainer:"chat_commentContainer__IkVN_",username:"chat_username__YaPG7",messageContent:"chat_messageContent__6gZBg",toggleButton:"chat_toggleButton__LMmYY",crateButton:"chat_crateButton__rz1Ob",editForm:"chat_editForm__klhxE",content:"chat_content__emhRU",haikei:"chat_haikei__vMgnL",box1:"chat_box1__Uqnsp",demo:"chat_demo__ii8nG",aside:"chat_aside__gK_Pr",fuchidori:"chat_fuchidori__298Sf"}}},function(e){e.O(0,[439,774,888,179],function(){return e(e.s=1679)}),_N_E=e.O()}]);