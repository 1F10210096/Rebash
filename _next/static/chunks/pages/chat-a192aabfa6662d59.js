(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{1679:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return o(9443)}])},9443:function(e,t,o){"use strict";o.r(t);var s=o(5893),n=o(4969),a=o(7547),l=o(7680),i=o(8484),r=o(1086),c=o(125),d=o(1156),u=o(5355),h=o(7235),m=o(3606),g=o(7496),x=o(8795),_=o(7183),p=o(9361),y=o(7917),b=o(388),f=o(8180),j=o(5353),S=o(1577),Z=o(1973),v=o(6074),w=o(6211),C=o(628),k=o(4993),N=o(7484),E=o.n(N),B=o(285),I=o.n(B),M=o(24),P=o(1163),$=o(7294),T=o(5371),Y=o(1290),O=o(1634),R=o.n(O);E().extend(I());let U=()=>{let[e]=(0,M.KO)(T.L),[t,o]=(0,$.useState)(""),[N,B]=(0,$.useState)(""),[I,O]=(0,$.useState)([]),[U,A]=(0,$.useState)(""),[L,D]=(0,$.useState)(""),[F,K]=(0,$.useState)([]),[V,X]=(0,$.useState)([]),[G,q]=(0,$.useState)([]),[H,J]=(0,$.useState)([]);(0,P.useRouter)();let[z,Q]=(0,$.useState)(""),W=(0,$.useRef)(null),ee=(0,$.useRef)(),[et,eo]=(0,$.useState)(!1),[es,en]=(0,$.useState)(""),[ea,el]=(0,$.useState)(""),[ei,er]=(0,$.useState)(""),[ec,ed]=(0,$.useState)(null),[eu,eh]=(0,$.useState)(""),[em,eg]=(0,$.useState)(!1),[ex,e_]=(0,$.useState)(!1),[ep,ey]=(0,$.useState)(null),[eb,ef]=(0,$.useState)({x:0,y:0}),[ej,eS]=(0,$.useState)(""),[eZ,ev]=(0,$.useState)(""),[ew,eC]=(0,$.useState)("2015/01/05"),[ek,eN]=(0,$.useState)([]),[eE,eB]=(0,$.useState)(""),[eI,eM]=(0,$.useState)(!1),[eP,e$]=(0,$.useState)(!1),[eT,eY]=(0,$.useState)(!1),{Header:eO,Content:eR,Footer:eU,Sider:eA}=_.Z,eL="YYYY/MM/DD",[eD,eF]=(0,$.useState)(!1),[eK,eV]=(0,$.useState)(""),[eX,eG]=(0,$.useState)(""),[eq,eH]=(0,$.useState)([]),[eJ,ez]=(0,$.useState)([]),[eQ,eW]=(0,$.useState)(""),[e0,e1]=(0,$.useState)(""),[e7,e8]=(0,$.useState)(""),[e3,e4]=(0,$.useState)(""),[e5,e2]=(0,$.useState)(""),[e6,e9]=(0,$.useState)(0),[te,tt]=(0,$.useState)(""),[to,ts]=(0,$.useState)([]),tn=(e,t)=>{eC(t),console.log(t)};function ta(e,t,o,s,n){return{key:t,icon:o,children:s,label:e,type:n}}n.Z,[a.Z,l.Z,i.Z,r.Z,c.Z,d.Z,u.Z,h.Z].map((e,t)=>({key:String(t+1),icon:$.createElement(e),label:"nav ".concat(t+1)}));let tl=[ta("Group","grp",null,I.map(e=>ta(e,e)),"group")],ti=e=>{console.log("onSelect",e)},tr=e=>{eS(e)},{token:{colorBgContainer:tc}}=p.Z.useToken(),td=()=>{eY(!0),tp()},tu=()=>{eY(!1)};(0,$.useEffect)(()=>{let e=async()=>{ee.current=await navigator.mediaDevices.getUserMedia({video:!0}),W.current&&(W.current.srcObject=ee.current)},t=()=>{ee.current&&ee.current.getTracks()[0].stop()};return e(),()=>{t()}},[]);let th=(0,$.useCallback)(async()=>{let e=await Y.x.roomlist.$post();console.log(e),O(e.roomId)},[]),tm=(0,$.useCallback)(async()=>{let t=await Y.x.roomlist.$post();if(console.log(t),null===t)console.log("a"),await Y.x.create.$post();else if(null===e)console.log(e);else{let t=e.id,o=await Y.x.usercheck.$post({body:{userId:t}});console.log(o)}},[e]),tg=async()=>{if(o(eE),console.log("User input:",eE),!e)return;let s=e.id,n=await Y.x.user.post({body:{roomId:t,userId:s}});await Y.x.roomcreate.post({body:{roomId:t,userId:s}}),console.log(t),O(n.body.roomId)},tx=async()=>{if(!e)return;let o=e.id;console.log(es);let s=await Y.x.serchroom.post({body:{searchRoomId:es,userId:o}});await Y.x.userroomcreate.post({body:{searchRoomId:es,userId:o}}),console.log(s.body.user),console.log(t),B(s.body.roomid),K(s.body.user),await th()},t_=async()=>{if(!e)return;let t=e.id;console.log(U);let o=await Y.x.createcomment.$post({body:{userId:t,comment:U}});A(o.comment)},tp=async()=>{if(!e)return;console.log("234");let t=e.id,o=await Y.x.usercheck.$post({body:{userId:t}});void 0===o?console.log("usernasi"):(console.log(o.comment),A(o.comment),console.log(o.birth),console.log("asdaw"),eC(o.birth),console.log(ew))},ty=async()=>{if(!e)return;let t=e.id,o=await Y.x.birth.$post({body:{userId:t,birthday:ew}});eC(o.birth)},tb=async()=>{if(!e)return;console.log(e.photoURL),console.log(ej);let o=e.id,s=e.displayName;void 0===s?console.log("usernameなし"):await Y.x.message.post({body:{roomId:t,sender_id:o,content:ej,name:s}}),await tj()},tf=async t=>{if(console.log("a"),console.log(t),o(t),await Y.x.room.post({body:{roomId3:t}}),null===e)console.log("error");else{let o=e.id;console.log(o);let s=await Y.x.roomuser.post({body:{roomId3:t}});console.log(s.body.user),K(s.body.user)}let s=await Y.x.message_get2.$post({body:{roomId3:t}});console.log(s),void 0===s?console.log("messagesがありません"):(X(s),D((null==e?void 0:e.id)||""))},tj=async()=>{let o=await Y.x.message_get.$post({body:{roomId:t}});void 0===o?console.log("messagesがありません"):(X(o),D((null==e?void 0:e.id)||""))},tS=e=>{console.log("Change:",e.target.value),A(e.target.value)},{TextArea:tZ}=y.Z,tv=async()=>{if(!e)return;let t=e.id;await Y.x.friend.$post({body:{searchfriend:e3,userId:t}})};return(0,$.useEffect)(()=>{tm(),th()},[th,tm]),(0,s.jsxs)(_.Z,{hasSider:!0,children:[(0,s.jsxs)("div",{style:{width:300,height:120,background:"#02021e",position:"fixed"},children:[(0,s.jsx)("div",{className:R().box1,onClick:td}),(0,s.jsx)(b.C,{style:{backgroundColor:"#87d068",right:1850,top:40,position:"fixed"},icon:(0,s.jsx)(a.Z,{})}),(0,s.jsx)("div",{style:{top:800},className:"fuchidori",children:null==e?void 0:e.displayName})]}),(0,s.jsxs)(eA,{style:{overflow:"auto",height:"100vh",position:"fixed",left:1700,top:0,bottom:0},children:[(0,s.jsx)("div",{className:"demo-logo-vertical"}),(0,s.jsx)(f.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["0"],items:tl,onSelect:e=>{let{key:t}=e;return tf(t)},style:{width:300}})]}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(j.Z,{title:"your profile",placement:"right",onClose:tu,open:eT,width:800,children:[(0,s.jsx)("p",{children:null==e?void 0:e.displayName}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"message"}),(0,s.jsx)(tZ,{showCount:!0,maxLength:100,onChange:tS,value:U}),(0,s.jsx)(S.ZP,{type:"primary",icon:(0,s.jsx)(m.Z,{}),onClick:t_,children:"ok"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"birthday"}),(0,s.jsx)(Z.Z,{onChange:tn,defaultValue:E()(ew,eL),format:eL,children:"birthday"}),(0,s.jsx)(S.ZP,{type:"primary",icon:(0,s.jsx)(m.Z,{}),onClick:ty,children:"ok"}),(0,s.jsx)("p",{children:"Some contents..."})]})}),(0,s.jsx)(eA,{style:{height:"100vh",position:"fixed",top:120,bottom:0},width:300,children:(0,s.jsx)(f.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"],items:tl,onSelect:e=>{let{key:t}=e;return tf(t)},style:{width:300}})}),(0,s.jsxs)(_.Z,{className:"site-layout",style:{marginLeft:100},children:[(0,s.jsx)(eO,{style:{padding:0,background:tc}}),(0,s.jsx)(eR,{style:{margin:"24px 16px 0",overflow:"initial"},children:(0,s.jsxs)("div",{style:{padding:24,textAlign:"center",background:tc},children:[(0,s.jsx)("p",{children:"long content"}),V.sort((e,t)=>e.sent_at-t.sent_at).map((e,t)=>(0,s.jsxs)($.Fragment,{children:[0!==t&&(0,s.jsx)(v.Z,{orientation:"left",plain:!0}),(0,s.jsxs)("div",{className:"".concat(R().commentBubble," ").concat(e.sender_Id===L?R().myMessage:R().otherMessage),children:[(0,s.jsx)("div",{className:R().username,children:e.username}),(0,s.jsx)("div",{className:R().content,children:e.contentmess})]})]},e.id2))]})}),(0,s.jsx)(eU,{style:{textAlign:"center"},children:"Ant Design \xa92023 Created by Ant UED"})]}),(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(w.Z,{style:{position:"fixed",width:800,height:600,top:750,right:330},onSelect:ti,onSearch:tr,placeholder:"input here"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsx)(S.ZP,{icon:(0,s.jsx)(g.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>tb()}),(0,s.jsx)(C.Z,{icon:(0,s.jsx)(x.Z,{}),type:"primary",style:{top:800,left:75}}),(0,s.jsx)(k.Z,{title:(0,s.jsx)(y.Z,{value:t,onChange:e=>o(e.target.value),onPressEnter:tg,placeholder:"RoomIdを入力してください"}),visible:eI,onVisibleChange:e=>eM(e),onConfirm:tg,onCancel:()=>eM(!1),okText:"Add",cancelText:"Cancel",placement:"left",children:(0,s.jsx)(C.Z,{icon:(0,s.jsx)(n.Z,{}),type:"primary",style:{top:730,left:75}})}),(0,s.jsxs)(k.Z,{title:(0,s.jsx)(y.Z,{value:es,onChange:e=>en(e.target.value),onPressEnter:tx,placeholder:"RoomIdを入力してください"}),visible:eI,onVisibleChange:e=>e$(e),onConfirm:tx,onCancel:()=>e$(!1),okText:"Search",cancelText:"Cancel",placement:"left",children:[(0,s.jsx)(S.ZP,{icon:(0,s.jsx)(g.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>tb()}),(0,s.jsx)(C.Z,{icon:(0,s.jsx)(x.Z,{}),type:"primary",style:{position:"fixed",top:800,left:75}}),(0,s.jsx)(y.Z,{value:e3,onChange:e=>e4(e.target.value),onPressEnter:tv,placeholder:"userIdを入力してください"})]})]})};t.default=U},1634:function(e){e.exports={title:"chat_title__Snu28",tasks:"chat_tasks__0B7ZY",deleteBtn:"chat_deleteBtn__3eXIO",roomIds:"chat_roomIds____AqH",comment:"chat_comment__F8UVK",form:"chat_form__tjMP8",myMessage:"chat_myMessage__hdJnJ",otherMessage:"chat_otherMessage__yyNOl",commentBubble:"chat_commentBubble__X6BbX",currentroomId:"chat_currentroomId__xyHNh",roomContainer:"chat_roomContainer__5bt_8",commentContainer:"chat_commentContainer__IkVN_",username:"chat_username__YaPG7",messageContent:"chat_messageContent__6gZBg",toggleButton:"chat_toggleButton__LMmYY",crateButton:"chat_crateButton__rz1Ob",editForm:"chat_editForm__klhxE",content:"chat_content__emhRU",haikei:"chat_haikei__vMgnL",box1:"chat_box1__Uqnsp",demo:"chat_demo__ii8nG",aside:"chat_aside__gK_Pr",fuchidori:"chat_fuchidori__298Sf"}}},function(e){e.O(0,[934,774,888,179],function(){return e(e.s=1679)}),_N_E=e.O()}]);