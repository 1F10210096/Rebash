(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{1679:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return o(9443)}])},9443:function(e,t,o){"use strict";o.r(t);var s=o(5893),n=o(4969),a=o(8641),l=o(1156),i=o(2952),r=o(7547),c=o(3606),u=o(7496),d=o(8795),h=o(7183),m=o(9361),g=o(7917),p=o(388),x=o(5353),_=o(1577),y=o(1973),b=o(8180),j=o(6074),f=o(6211),S=o(628),v=o(4993),Z=o(7484),w=o.n(Z),C=o(285),k=o.n(C),O=o(24),N=o(1163),I=o(7294),B=o(5371),M=o(1290),E=o(1634),P=o.n(E);w().extend(k());let T=()=>{let[e]=(0,O.KO)(B.L),[t,o]=(0,I.useState)(""),[Z,C]=(0,I.useState)(""),[k,E]=(0,I.useState)([]),[T,$]=(0,I.useState)(""),[Y,R]=(0,I.useState)(""),[U,A]=(0,I.useState)([]),[L,D]=(0,I.useState)([]),[F,V]=(0,I.useState)([]),[X,K]=(0,I.useState)([]);(0,N.useRouter)();let[G,q]=(0,I.useState)(""),z=(0,I.useRef)(null),H=(0,I.useRef)(),[J,Q]=(0,I.useState)(!1),[W,ee]=(0,I.useState)(""),[et,eo]=(0,I.useState)(""),[es,en]=(0,I.useState)(""),[ea,el]=(0,I.useState)(null),[ei,er]=(0,I.useState)(""),[ec,eu]=(0,I.useState)(!1),[ed,eh]=(0,I.useState)(!1),[em,eg]=(0,I.useState)(null),[ep,ex]=(0,I.useState)({x:0,y:0}),[e_,ey]=(0,I.useState)(""),[eb,ej]=(0,I.useState)(""),[ef,eS]=(0,I.useState)("2015/01/05"),[ev,eZ]=(0,I.useState)([]),[ew,eC]=(0,I.useState)(""),[ek,eO]=(0,I.useState)(!1),[eN,eI]=(0,I.useState)(!1),[eB,eM]=(0,I.useState)(!1),{Header:eE,Content:eP,Footer:eT,Sider:e$}=h.Z,eY="YYYY/MM/DD",[eR,eU]=(0,I.useState)(!1),[eA,eL]=(0,I.useState)(""),[eD,eF]=(0,I.useState)(""),[eV,eX]=(0,I.useState)([]),eK=(e,t)=>{eS(t),console.log(t)};function eG(e,t,o,s,n){return{key:t,icon:o,children:s,label:e,type:n}}n.Z;let eq=[eG("Navigation One","sub1",(0,s.jsx)(a.Z,{}),[eG("Item 1","g1",null,[eG("Option 1","1"),eG("Option 2","2")],"group"),eG("Item 2","g2",null,[eG("Option 3","3"),eG("Option 4","4")],"group")]),eG("Navigation Two","sub2",(0,s.jsx)(l.Z,{}),[eG("Option 5","5"),eG("Option 6","6"),eG("Submenu","sub3",null,[eG("Option 7","7"),eG("Option 8","8")])]),{type:"divider"},eG("Navigation Three","sub4",(0,s.jsx)(i.Z,{}),[eG("Option 9","9"),eG("Option 10","10"),eG("Option 11","11"),eG("Option 12","12")]),eG("Group","grp",null,k.map(e=>eG(e,e)),"group")],ez=e=>{console.log("onSelect",e)},eH=e=>{ey(e)},{token:{colorBgContainer:eJ}}=m.Z.useToken(),eQ=()=>{eM(!0),e2()},eW=()=>{eM(!1)};(0,I.useEffect)(()=>{let e=async()=>{H.current=await navigator.mediaDevices.getUserMedia({video:!0}),z.current&&(z.current.srcObject=H.current)},t=()=>{H.current&&H.current.getTracks()[0].stop()};return e(),()=>{t()}},[]);let e0=(0,I.useCallback)(async()=>{let e=await M.x.roomlist.$post();console.log(e),E(e.roomId)},[]),e1=(0,I.useCallback)(async()=>{let t=await M.x.roomlist.$post();if(console.log(t),null===t)console.log("a"),await M.x.create.$post();else if(null===e)console.log(e);else{let t=e.id,o=await M.x.usercheck.$post({body:{userId:t}});console.log(o)}},[e]),e3=async()=>{if(o(ew),console.log("User input:",ew),!e)return;let s=e.id,n=await M.x.user.post({body:{roomId:t,userId:s}});await M.x.roomcreate.post({body:{roomId:t,userId:s}}),console.log(t),E(n.body.roomId)},e7=async()=>{if(!e)return;let o=e.id;console.log(W);let s=await M.x.serchroom.post({body:{searchRoomId:W,userId:o}});await M.x.userroomcreate.post({body:{searchRoomId:W,userId:o}}),console.log(s.body.user),console.log(t),C(s.body.roomid),A(s.body.user),await e0()},e8=async()=>{if(!e)return;let t=e.id;console.log(T);let o=await M.x.createcomment.$post({body:{userId:t,comment:T}});$(o.comment)},e2=async()=>{if(!e)return;console.log("234");let t=e.id,o=await M.x.usercheck.$post({body:{userId:t}});void 0===o?console.log("usernasi"):(console.log(o.comment),$(o.comment),console.log(o.birth),console.log("asdaw"),eS(o.birth),console.log(ef))},e4=async()=>{if(!e)return;let t=e.id,o=await M.x.birth.$post({body:{userId:t,birthday:ef}});eS(o.birth)},e6=async()=>{if(!e)return;console.log(e.photoURL),console.log(e_);let o=e.id,s=e.displayName;void 0===s?console.log("usernameなし"):await M.x.message.post({body:{roomId:t,sender_id:o,content:e_,name:s}}),await e9()},e5=async t=>{if(console.log("a"),console.log(t),o(t),await M.x.room.post({body:{roomId3:t}}),null===e)console.log("error");else{let o=e.id;console.log(o);let s=await M.x.roomuser.post({body:{roomId3:t}});console.log(s.body.user),A(s.body.user)}let s=await M.x.message_get2.$post({body:{roomId3:t}});console.log(s),void 0===s?console.log("messagesがありません"):(D(s),R((null==e?void 0:e.id)||""))},e9=async()=>{let o=await M.x.message_get.$post({body:{roomId:t}});void 0===o?console.log("messagesがありません"):(D(o),R((null==e?void 0:e.id)||""))},te=e=>{console.log("Change:",e.target.value),$(e.target.value)},{TextArea:tt}=g.Z;return(0,I.useEffect)(()=>{e1(),e0()},[e0,e1]),(0,s.jsxs)(h.Z,{hasSider:!0,children:[(0,s.jsx)("div",{style:{width:300,height:120,background:"#02021e"}}),(0,s.jsx)("div",{className:P().box1,onClick:eQ}),(0,s.jsx)(p.C,{style:{backgroundColor:"#87d068",right:500,top:40},icon:(0,s.jsx)(r.Z,{})}),(0,s.jsx)("div",{style:{top:800,fontSize:"16px",color:"blue"},children:null==e?void 0:e.displayName}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(x.Z,{title:"your profile",placement:"right",onClose:eW,open:eB,width:800,children:[(0,s.jsx)("p",{children:null==e?void 0:e.displayName}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"message"}),(0,s.jsx)(tt,{showCount:!0,maxLength:100,onChange:te,value:T}),(0,s.jsx)(_.ZP,{type:"primary",icon:(0,s.jsx)(c.Z,{}),onClick:e8,children:"ok"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"birthday"}),(0,s.jsx)(y.Z,{onChange:eK,defaultValue:w()(ef,eY),format:eY,children:"birthday"}),(0,s.jsx)(_.ZP,{type:"primary",icon:(0,s.jsx)(c.Z,{}),onClick:e4,children:"ok"}),(0,s.jsx)("p",{children:"Some contents..."})]})}),(0,s.jsx)(e$,{style:{height:"100vh",position:"fixed",top:120,bottom:0},width:300,children:(0,s.jsx)(b.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"],items:eq,onSelect:e=>{let{key:t}=e;return e5(t)},style:{width:300}})}),(0,s.jsxs)(h.Z,{className:"site-layout",style:{marginLeft:100},children:[(0,s.jsx)(eE,{style:{padding:0,background:eJ}}),(0,s.jsx)(eP,{style:{margin:"24px 16px 0",overflow:"initial"},children:(0,s.jsxs)("div",{style:{padding:24,textAlign:"center",background:eJ},children:[(0,s.jsx)("p",{children:"long content"}),L.sort((e,t)=>e.sent_at-t.sent_at).map((e,t)=>(0,s.jsxs)(I.Fragment,{children:[0!==t&&(0,s.jsx)(j.Z,{orientation:"left",plain:!0}),(0,s.jsxs)("div",{className:"".concat(P().commentBubble," ").concat(e.sender_Id===Y?P().myMessage:P().otherMessage),children:[(0,s.jsx)("div",{className:P().username,children:e.username}),(0,s.jsx)("div",{className:P().content,children:e.contentmess})]})]},e.id2))]})}),(0,s.jsx)(eT,{style:{textAlign:"center"},children:"Ant Design \xa92023 Created by Ant UED"})]}),(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(f.Z,{style:{position:"fixed",width:800,height:600,top:750,right:330},onSelect:ez,onSearch:eH,placeholder:"input here"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsx)(_.ZP,{icon:(0,s.jsx)(u.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>e6()}),(0,s.jsx)(S.Z,{icon:(0,s.jsx)(d.Z,{}),type:"primary",style:{top:800,left:75}}),(0,s.jsx)(v.Z,{title:(0,s.jsx)(g.Z,{value:t,onChange:e=>o(e.target.value),onPressEnter:e3,placeholder:"RoomIdを入力してください"}),visible:ek,onVisibleChange:e=>eO(e),onConfirm:e3,onCancel:()=>eO(!1),okText:"Add",cancelText:"Cancel",placement:"left",children:(0,s.jsx)(S.Z,{icon:(0,s.jsx)(n.Z,{}),type:"primary",style:{top:730,left:75}})}),(0,s.jsxs)(v.Z,{title:(0,s.jsx)(g.Z,{value:W,onChange:e=>ee(e.target.value),onPressEnter:e7,placeholder:"RoomIdを入力してください"}),visible:ek,onVisibleChange:e=>eI(e),onConfirm:e7,onCancel:()=>eI(!1),okText:"Search",cancelText:"Cancel",placement:"left",children:[(0,s.jsx)(_.ZP,{icon:(0,s.jsx)(u.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>e6()}),(0,s.jsx)(S.Z,{icon:(0,s.jsx)(d.Z,{}),type:"primary",style:{position:"fixed",top:800,left:75}})]})]})};t.default=T},1634:function(e){e.exports={title:"chat_title__Snu28",tasks:"chat_tasks__0B7ZY",deleteBtn:"chat_deleteBtn__3eXIO",roomIds:"chat_roomIds____AqH",comment:"chat_comment__F8UVK",form:"chat_form__tjMP8",myMessage:"chat_myMessage__hdJnJ",otherMessage:"chat_otherMessage__yyNOl",commentBubble:"chat_commentBubble__X6BbX",currentroomId:"chat_currentroomId__xyHNh",roomContainer:"chat_roomContainer__5bt_8",commentContainer:"chat_commentContainer__IkVN_",username:"chat_username__YaPG7",messageContent:"chat_messageContent__6gZBg",toggleButton:"chat_toggleButton__LMmYY",crateButton:"chat_crateButton__rz1Ob",editForm:"chat_editForm__klhxE",content:"chat_content__emhRU",haikei:"chat_haikei__vMgnL",box1:"chat_box1__Uqnsp",demo:"chat_demo__ii8nG",aside:"chat_aside__gK_Pr"}}},function(e){e.O(0,[133,774,888,179],function(){return e(e.s=1679)}),_N_E=e.O()}]);