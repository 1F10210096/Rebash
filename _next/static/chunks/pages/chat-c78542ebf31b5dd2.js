(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{1679:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return o(9443)}])},9443:function(e,t,o){"use strict";o.r(t);var s=o(5893),n=o(4969),a=o(7547),l=o(7680),i=o(8484),r=o(1086),c=o(125),u=o(1156),d=o(5355),h=o(7235),m=o(8641),g=o(2952),p=o(3606),x=o(7496),_=o(8795),y=o(7183),b=o(9361),j=o(7917),f=o(388),S=o(8180),Z=o(5353),v=o(1577),w=o(1973),C=o(6074),k=o(6211),N=o(628),O=o(4993),I=o(7484),E=o.n(I),B=o(285),M=o.n(B),P=o(24),T=o(1163),$=o(7294),Y=o(5371),R=o(1290),U=o(1634),A=o.n(U);E().extend(M());let L=()=>{let[e]=(0,P.KO)(Y.L),[t,o]=(0,$.useState)(""),[I,B]=(0,$.useState)(""),[M,U]=(0,$.useState)([]),[L,D]=(0,$.useState)(""),[F,K]=(0,$.useState)(""),[V,X]=(0,$.useState)([]),[G,q]=(0,$.useState)([]),[H,J]=(0,$.useState)([]),[z,Q]=(0,$.useState)([]);(0,T.useRouter)();let[W,ee]=(0,$.useState)(""),et=(0,$.useRef)(null),eo=(0,$.useRef)(),[es,en]=(0,$.useState)(!1),[ea,el]=(0,$.useState)(""),[ei,er]=(0,$.useState)(""),[ec,eu]=(0,$.useState)(""),[ed,eh]=(0,$.useState)(null),[em,eg]=(0,$.useState)(""),[ep,ex]=(0,$.useState)(!1),[e_,ey]=(0,$.useState)(!1),[eb,ej]=(0,$.useState)(null),[ef,eS]=(0,$.useState)({x:0,y:0}),[eZ,ev]=(0,$.useState)(""),[ew,eC]=(0,$.useState)(""),[ek,eN]=(0,$.useState)("2015/01/05"),[eO,eI]=(0,$.useState)([]),[eE,eB]=(0,$.useState)(""),[eM,eP]=(0,$.useState)(!1),[eT,e$]=(0,$.useState)(!1),[eY,eR]=(0,$.useState)(!1),{Header:eU,Content:eA,Footer:eL,Sider:eD}=y.Z,eF="YYYY/MM/DD",[eK,eV]=(0,$.useState)(!1),[eX,eG]=(0,$.useState)(""),[eq,eH]=(0,$.useState)(""),[eJ,ez]=(0,$.useState)([]),[eQ,eW]=(0,$.useState)([]),[e0,e1]=(0,$.useState)(""),[e8,e7]=(0,$.useState)(""),[e3,e2]=(0,$.useState)(""),[e4,e5]=(0,$.useState)(""),[e6,e9]=(0,$.useState)(""),[te,tt]=(0,$.useState)(0),[to,ts]=(0,$.useState)(""),[tn,ta]=(0,$.useState)([]),tl=(e,t)=>{eN(t),console.log(t)};function ti(e,t,o,s,n){return{key:t,icon:o,children:s,label:e,type:n}}n.Z,[a.Z,l.Z,i.Z,r.Z,c.Z,u.Z,d.Z,h.Z].map((e,t)=>({key:String(t+1),icon:$.createElement(e),label:"nav ".concat(t+1)}));let tr=[ti("Navigation One","sub1",(0,s.jsx)(m.Z,{}),[ti("Item 1","g1",null,[ti("Option 1","1"),ti("Option 2","2")],"group"),ti("Item 2","g2",null,[ti("Option 3","3"),ti("Option 4","4")],"group")]),ti("Navigation Two","sub2",(0,s.jsx)(u.Z,{}),[ti("Option 5","5"),ti("Option 6","6"),ti("Submenu","sub3",null,[ti("Option 7","7"),ti("Option 8","8")])]),{type:"divider"},ti("Navigation Three","sub4",(0,s.jsx)(g.Z,{}),[ti("Option 9","9"),ti("Option 10","10"),ti("Option 11","11"),ti("Option 12","12")]),ti("Group","grp",null,M.map(e=>ti(e,e)),"group")],tc=e=>{console.log("onSelect",e)},tu=e=>{ev(e)},{token:{colorBgContainer:td}}=b.Z.useToken(),th=()=>{eR(!0),tb()},tm=()=>{eR(!1)};(0,$.useEffect)(()=>{let e=async()=>{eo.current=await navigator.mediaDevices.getUserMedia({video:!0}),et.current&&(et.current.srcObject=eo.current)},t=()=>{eo.current&&eo.current.getTracks()[0].stop()};return e(),()=>{t()}},[]);let tg=(0,$.useCallback)(async()=>{let e=await R.x.roomlist.$post();console.log(e),U(e.roomId)},[]),tp=(0,$.useCallback)(async()=>{let t=await R.x.roomlist.$post();if(console.log(t),null===t)console.log("a"),await R.x.create.$post();else if(null===e)console.log(e);else{let t=e.id,o=await R.x.usercheck.$post({body:{userId:t}});console.log(o)}},[e]),tx=async()=>{if(o(eE),console.log("User input:",eE),!e)return;let s=e.id,n=await R.x.user.post({body:{roomId:t,userId:s}});await R.x.roomcreate.post({body:{roomId:t,userId:s}}),console.log(t),U(n.body.roomId)},t_=async()=>{if(!e)return;let o=e.id;console.log(ea);let s=await R.x.serchroom.post({body:{searchRoomId:ea,userId:o}});await R.x.userroomcreate.post({body:{searchRoomId:ea,userId:o}}),console.log(s.body.user),console.log(t),B(s.body.roomid),X(s.body.user),await tg()},ty=async()=>{if(!e)return;let t=e.id;console.log(L);let o=await R.x.createcomment.$post({body:{userId:t,comment:L}});D(o.comment)},tb=async()=>{if(!e)return;console.log("234");let t=e.id,o=await R.x.usercheck.$post({body:{userId:t}});void 0===o?console.log("usernasi"):(console.log(o.comment),D(o.comment),console.log(o.birth),console.log("asdaw"),eN(o.birth),console.log(ek))},tj=async()=>{if(!e)return;let t=e.id,o=await R.x.birth.$post({body:{userId:t,birthday:ek}});eN(o.birth)},tf=async()=>{if(!e)return;console.log(e.photoURL),console.log(eZ);let o=e.id,s=e.displayName;void 0===s?console.log("usernameなし"):await R.x.message.post({body:{roomId:t,sender_id:o,content:eZ,name:s}}),await tZ()},tS=async t=>{if(console.log("a"),console.log(t),o(t),await R.x.room.post({body:{roomId3:t}}),null===e)console.log("error");else{let o=e.id;console.log(o);let s=await R.x.roomuser.post({body:{roomId3:t}});console.log(s.body.user),X(s.body.user)}let s=await R.x.message_get2.$post({body:{roomId3:t}});console.log(s),void 0===s?console.log("messagesがありません"):(q(s),K((null==e?void 0:e.id)||""))},tZ=async()=>{let o=await R.x.message_get.$post({body:{roomId:t}});void 0===o?console.log("messagesがありません"):(q(o),K((null==e?void 0:e.id)||""))},tv=e=>{console.log("Change:",e.target.value),D(e.target.value)},{TextArea:tw}=j.Z,tC=async()=>{if(!e)return;let t=e.id;await R.x.friend.$post({body:{searchfriend:e4,userId:t}})};return(0,$.useEffect)(()=>{tp(),tg()},[tg,tp]),(0,s.jsxs)(y.Z,{hasSider:!0,children:[(0,s.jsxs)("div",{style:{width:300,height:120,background:"#02021e",position:"fixed"},children:[(0,s.jsx)("div",{className:A().box1,onClick:th}),(0,s.jsx)(f.C,{style:{backgroundColor:"#87d068",right:1850,top:40,position:"fixed"},icon:(0,s.jsx)(a.Z,{})}),(0,s.jsx)("div",{style:{top:800},className:"fuchidori",children:null==e?void 0:e.displayName})]}),(0,s.jsxs)(eD,{style:{overflow:"auto",height:"100vh",position:"fixed",left:1700,top:0,bottom:0},children:[(0,s.jsx)("div",{className:"demo-logo-vertical"}),(0,s.jsx)(S.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["0"],items:tr,onSelect:e=>{let{key:t}=e;return tS(t)},style:{width:300}})]}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Z.Z,{title:"your profile",placement:"right",onClose:tm,open:eY,width:800,children:[(0,s.jsx)("p",{children:null==e?void 0:e.displayName}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"message"}),(0,s.jsx)(tw,{showCount:!0,maxLength:100,onChange:tv,value:L}),(0,s.jsx)(v.ZP,{type:"primary",icon:(0,s.jsx)(p.Z,{}),onClick:ty,children:"ok"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"birthday"}),(0,s.jsx)(w.Z,{onChange:tl,defaultValue:E()(ek,eF),format:eF,children:"birthday"}),(0,s.jsx)(v.ZP,{type:"primary",icon:(0,s.jsx)(p.Z,{}),onClick:tj,children:"ok"}),(0,s.jsx)("p",{children:"Some contents..."})]})}),(0,s.jsx)(eD,{style:{height:"100vh",position:"fixed",top:120,bottom:0},width:300,children:(0,s.jsx)(S.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"],items:tr,onSelect:e=>{let{key:t}=e;return tS(t)},style:{width:300}})}),(0,s.jsxs)(y.Z,{className:"site-layout",style:{marginLeft:100},children:[(0,s.jsx)(eU,{style:{padding:0,background:td}}),(0,s.jsx)(eA,{style:{margin:"24px 16px 0",overflow:"initial"},children:(0,s.jsxs)("div",{style:{padding:24,textAlign:"center",background:td},children:[(0,s.jsx)("p",{children:"long content"}),G.sort((e,t)=>e.sent_at-t.sent_at).map((e,t)=>(0,s.jsxs)($.Fragment,{children:[0!==t&&(0,s.jsx)(C.Z,{orientation:"left",plain:!0}),(0,s.jsxs)("div",{className:"".concat(A().commentBubble," ").concat(e.sender_Id===F?A().myMessage:A().otherMessage),children:[(0,s.jsx)("div",{className:A().username,children:e.username}),(0,s.jsx)("div",{className:A().content,children:e.contentmess})]})]},e.id2))]})}),(0,s.jsx)(eL,{style:{textAlign:"center"},children:"Ant Design \xa92023 Created by Ant UED"})]}),(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(k.Z,{style:{position:"fixed",width:800,height:600,top:750,right:330},onSelect:tc,onSearch:tu,placeholder:"input here"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsx)(v.ZP,{icon:(0,s.jsx)(x.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>tf()}),(0,s.jsx)(N.Z,{icon:(0,s.jsx)(_.Z,{}),type:"primary",style:{top:800,left:75}}),(0,s.jsx)(O.Z,{title:(0,s.jsx)(j.Z,{value:t,onChange:e=>o(e.target.value),onPressEnter:tx,placeholder:"RoomIdを入力してください"}),visible:eM,onVisibleChange:e=>eP(e),onConfirm:tx,onCancel:()=>eP(!1),okText:"Add",cancelText:"Cancel",placement:"left",children:(0,s.jsx)(N.Z,{icon:(0,s.jsx)(n.Z,{}),type:"primary",style:{top:730,left:75}})}),(0,s.jsxs)(O.Z,{title:(0,s.jsx)(j.Z,{value:ea,onChange:e=>el(e.target.value),onPressEnter:t_,placeholder:"RoomIdを入力してください"}),visible:eM,onVisibleChange:e=>e$(e),onConfirm:t_,onCancel:()=>e$(!1),okText:"Search",cancelText:"Cancel",placement:"left",children:[(0,s.jsx)(v.ZP,{icon:(0,s.jsx)(x.Z,{}),style:{position:"fixed",top:750,right:300},type:"primary",onClick:()=>tf()}),(0,s.jsx)(N.Z,{icon:(0,s.jsx)(_.Z,{}),type:"primary",style:{position:"fixed",top:800,left:75}}),(0,s.jsx)(j.Z,{value:e4,onChange:e=>e5(e.target.value),onPressEnter:tC,placeholder:"userIdを入力してください"})]})]})};t.default=L},1634:function(e){e.exports={title:"chat_title__Snu28",tasks:"chat_tasks__0B7ZY",deleteBtn:"chat_deleteBtn__3eXIO",roomIds:"chat_roomIds____AqH",comment:"chat_comment__F8UVK",form:"chat_form__tjMP8",myMessage:"chat_myMessage__hdJnJ",otherMessage:"chat_otherMessage__yyNOl",commentBubble:"chat_commentBubble__X6BbX",currentroomId:"chat_currentroomId__xyHNh",roomContainer:"chat_roomContainer__5bt_8",commentContainer:"chat_commentContainer__IkVN_",username:"chat_username__YaPG7",messageContent:"chat_messageContent__6gZBg",toggleButton:"chat_toggleButton__LMmYY",crateButton:"chat_crateButton__rz1Ob",editForm:"chat_editForm__klhxE",content:"chat_content__emhRU",haikei:"chat_haikei__vMgnL",box1:"chat_box1__Uqnsp",demo:"chat_demo__ii8nG",aside:"chat_aside__gK_Pr",fuchidori:"chat_fuchidori__298Sf"}}},function(e){e.O(0,[439,774,888,179],function(){return e(e.s=1679)}),_N_E=e.O()}]);